<script>
    (function(d, s, id) {
        if (d.getElementById(id)) {
            if (window.__TOMORROW__) {
                window.__TOMORROW__.renderWidget();
            }
            return;
        }
        const fjs = d.getElementsByTagName(s)[0];
        const js = d.createElement(s);
        js.id = id;
        js.src = "https://www.tomorrow.io/v1/widget/sdk/sdk.bundle.min.js";

        fjs.parentNode.insertBefore(js, fjs);

        js.onload = function() {
            const widget = document.createElement('div');
            widget.className = 'tomorrow';
            widget.setAttribute('data-location-id', '016166');  // Single location ID
            widget.setAttribute('data-language', 'EN');
            widget.setAttribute('data-unit-system', 'METRIC');
            widget.setAttribute('data-skin', 'dark');
            widget.setAttribute('data-widget-type', 'fire');
            widget.style.paddingBottom = '22px';
            widget.style.position = 'relative';

            const link = document.createElement('a');
            link.href = 'https://www.tomorrow.io/weather-api/';
            link.rel = 'nofollow noopener noreferrer';
            link.target = '_blank';
            link.style.position = 'absolute';
            link.style.bottom = '0';
            link.style.transform = 'translateX(-50%)';
            link.style.left = '50%';

            const img = document.createElement('img');
            img.alt = 'Powered by the Tomorrow.io Weather API';
            img.src = 'https://weather-website-client.tomorrow.io/img/powered-by.svg';
            img.width = 250;
            img.height = 18;

            link.appendChild(img);
            widget.appendChild(link);

            d.body.appendChild(widget); // Append the single widget
        };
    })(document, 'script', 'tomorrow-sdk');
</script>
